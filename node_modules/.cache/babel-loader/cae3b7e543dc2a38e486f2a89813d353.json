{"remainingRequest":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\filemanage\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\vue_workspace\\filemanage\\src\\store\\modules\\user.js","mtime":1666578367809},{"path":"D:\\vue_workspace\\filemanage\\babel.config.js","mtime":1666484881107},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbG9naW4gfSBmcm9tICdAYXBpL2xvZ2luJzsKaW1wb3J0IHsgc2V0VWlkLCBzZXRVTmFtZSwgZ2V0VWlkLCBnZXRVTmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzL2F1dGgnOwpjb25zdCB1c2VyID0gewogIHN0YXRlOiB7CiAgICB1aWQ6IGdldFVpZCgpLAogICAgdW5hbWU6IGdldFVOYW1lKCkKICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1VJRDogKHN0YXRlLCB1aWQpID0+IHsKICAgICAgc3RhdGUudWlkID0gdWlkOwogICAgfSwKICAgIFNFVF9VTkFNRTogKHN0YXRlLCB1bmFtZSkgPT4gewogICAgICBzdGF0ZS51bmFtZSA9IHVuYW1lOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgTG9naW4oewogICAgICBjb21taXQKICAgIH0sIHVzZXJJbmZvKSB7CiAgICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlckluZm8udXNlcm5hbWU7CiAgICAgIGNvbnN0IHBhc3N3b3JkID0gdXNlckluZm8ucGFzc3dvcmQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIGxldCB1aWQgPSByZXMuaWQ7CiAgICAgICAgICAgIGxldCB1bmFtZSA9IHJlcy5uYW1lOwogICAgICAgICAgICBzZXRVaWQodWlkKTsKICAgICAgICAgICAgc2V0VU5hbWUodW5hbWUpOwogICAgICAgICAgICBjb21taXQoJ1NFVF9VSUQnLCB1aWQpOwogICAgICAgICAgICBjb21taXQoJ1NFVF9VTkFNRScsIHVuYW1lKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHVzZXI7"},{"version":3,"names":["login","setUid","setUName","getUid","getUName","user","state","uid","uname","mutations","SET_UID","SET_UNAME","actions","Login","commit","userInfo","username","password","Promise","resolve","reject","then","res","id","name"],"sources":["D:/vue_workspace/filemanage/src/store/modules/user.js"],"sourcesContent":["import { login } from '@api/login'\r\n\r\nimport { setUid, setUName, getUid, getUName } from '../../utils/auth'\r\n\r\nconst user  = {\r\n  state: {\r\n    uid: getUid(),\r\n    uname: getUName()\r\n  },\r\n  mutations: {\r\n    SET_UID: (state, uid) => {\r\n      state.uid = uid\r\n    },\r\n    SET_UNAME: (state, uname) => {\r\n      state.uname = uname\r\n    }\r\n  },\r\n  actions: {\r\n    Login({commit}, userInfo) {\r\n      const username = userInfo.username\r\n      const password = userInfo.password\r\n      return new Promise((resolve, reject) => {\r\n        login(username, password).then(res => {\r\n          if(res) {\r\n            let uid = res.id\r\n            let uname = res.name\r\n            setUid(uid)\r\n            setUName(uname)\r\n            commit('SET_UID', uid)\r\n            commit('SET_UNAME', uname)\r\n          } else {\r\n            reject()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default user"],"mappings":"AAAA,SAASA,KAAK,QAAQ,YAAY;AAElC,SAASC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,kBAAkB;AAErE,MAAMC,IAAI,GAAI;EACZC,KAAK,EAAE;IACLC,GAAG,EAAEJ,MAAM,EAAE;IACbK,KAAK,EAAEJ,QAAQ;EACjB,CAAC;EACDK,SAAS,EAAE;IACTC,OAAO,EAAE,CAACJ,KAAK,EAAEC,GAAG,KAAK;MACvBD,KAAK,CAACC,GAAG,GAAGA,GAAG;IACjB,CAAC;IACDI,SAAS,EAAE,CAACL,KAAK,EAAEE,KAAK,KAAK;MAC3BF,KAAK,CAACE,KAAK,GAAGA,KAAK;IACrB;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,KAAK,CAAC;MAACC;IAAM,CAAC,EAAEC,QAAQ,EAAE;MACxB,MAAMC,QAAQ,GAAGD,QAAQ,CAACC,QAAQ;MAClC,MAAMC,QAAQ,GAAGF,QAAQ,CAACE,QAAQ;MAClC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACtCpB,KAAK,CAACgB,QAAQ,EAAEC,QAAQ,CAAC,CAACI,IAAI,CAACC,GAAG,IAAI;UACpC,IAAGA,GAAG,EAAE;YACN,IAAIf,GAAG,GAAGe,GAAG,CAACC,EAAE;YAChB,IAAIf,KAAK,GAAGc,GAAG,CAACE,IAAI;YACpBvB,MAAM,CAACM,GAAG,CAAC;YACXL,QAAQ,CAACM,KAAK,CAAC;YACfM,MAAM,CAAC,SAAS,EAAEP,GAAG,CAAC;YACtBO,MAAM,CAAC,WAAW,EAAEN,KAAK,CAAC;UAC5B,CAAC,MAAM;YACLY,MAAM,EAAE;UACV;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF;AACF,CAAC;AAED,eAAef,IAAI"}]}