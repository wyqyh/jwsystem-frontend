{"remainingRequest":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\filemanage\\src\\directive\\hasPerm.js","dependencies":[{"path":"D:\\vue_workspace\\filemanage\\src\\directive\\hasPerm.js","mtime":1672138946218},{"path":"D:\\vue_workspace\\filemanage\\babel.config.js","mtime":1666484881107},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5zZXJ0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICBjb25zdCB7CiAgICAgIHZhbHVlCiAgICB9ID0gYmluZGluZzsKICAgIGNvbnN0IHBlcm1pc3Npb25zID0gc3RvcmUuZ2V0dGVycyAmJiBzdG9yZS5nZXR0ZXJzLnBlcm1pc3Npb25zOwogICAgY29uc29sZS5sb2coJ3Blcm1pc3Npb25zLS0nLCBwZXJtaXNzaW9ucyk7CiAgICBpZiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgIGNvbnN0IGhhc1Blcm1pc3Npb25zID0gcGVybWlzc2lvbnMuc29tZShwZXJtaXNzaW9uID0+IHsKICAgICAgICByZXR1cm4gdmFsdWUuaW5jbHVkZXMocGVybWlzc2lvbik7CiAgICAgIH0pOwogICAgICBpZiAoIWhhc1Blcm1pc3Npb25zKSB7CiAgICAgICAgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCfor7forr7nva7mnYPpmZDmk43kvZwnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["store","inserted","el","binding","vnode","value","permissions","getters","console","log","Array","length","hasPermissions","some","permission","includes","parentNode","removeChild","Error"],"sources":["D:/vue_workspace/filemanage/src/directive/hasPerm.js"],"sourcesContent":["import store from '../store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const permissions = store.getters && store.getters.permissions\r\n    console.log('permissions--', permissions)\r\n    if(value && value instanceof Array && value.length > 0) {\r\n      const hasPermissions = permissions.some(permission => {\r\n        return value.includes(permission)\r\n      })\r\n      if(!hasPermissions) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error('请设置权限操作')\r\n    }\r\n  }\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,UAAU;AAE5B,eAAe;EACbC,QAAQ,CAACC,EAAE,EAAEC,OAAO,EAAEC,KAAK,EAAE;IAC3B,MAAM;MAAEC;IAAM,CAAC,GAAGF,OAAO;IACzB,MAAMG,WAAW,GAAGN,KAAK,CAACO,OAAO,IAAIP,KAAK,CAACO,OAAO,CAACD,WAAW;IAC9DE,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,WAAW,CAAC;IACzC,IAAGD,KAAK,IAAIA,KAAK,YAAYK,KAAK,IAAIL,KAAK,CAACM,MAAM,GAAG,CAAC,EAAE;MACtD,MAAMC,cAAc,GAAGN,WAAW,CAACO,IAAI,CAACC,UAAU,IAAI;QACpD,OAAOT,KAAK,CAACU,QAAQ,CAACD,UAAU,CAAC;MACnC,CAAC,CAAC;MACF,IAAG,CAACF,cAAc,EAAE;QAClBV,EAAE,CAACc,UAAU,IAAId,EAAE,CAACc,UAAU,CAACC,WAAW,CAACf,EAAE,CAAC;MAChD;IACF,CAAC,MAAM;MACL,MAAM,IAAIgB,KAAK,CAAC,SAAS,CAAC;IAC5B;EACF;AACF,CAAC"}]}