{"remainingRequest":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\filemanage\\src\\router\\index.js","dependencies":[{"path":"D:\\vue_workspace\\filemanage\\src\\router\\index.js","mtime":1678931941735},{"path":"D:\\vue_workspace\\filemanage\\babel.config.js","mtime":1666484881107},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IExheW91dCBmcm9tICcuLi9sYXlvdXQvaW5kZXgnOwppbXBvcnQgSW5kZXggZnJvbSAiLi4vdmlld3MvaW5kZXgiOwppbXBvcnQgR3JhbnRSb2xlcyBmcm9tICIuLi92aWV3cy9zeXN0ZW0vdXNlci9ncmFudHJvbGUudnVlIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlscy9hdXRoJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwpleHBvcnQgY29uc3QgY29uc3RhbnRSb3V0ZXJzID0gW3sKICBwYXRoOiAnL2xvZ2luJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogTG9naW4sCiAgaGlkZGVuOiB0cnVlCn0sIHsKICBwYXRoOiAnJywKICBjb21wb25lbnQ6IExheW91dCwKICByZWRpcmVjdDogJy9kYXNoYm9hcmQnLAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJy9kYXNoYm9hcmQnLAogICAgY29tcG9uZW50OiBJbmRleCwKICAgIG5hbWU6ICfpppbpobUnLAogICAgaWNvbjogJ2Rhc2hib2FyZCcsCiAgICBtZXRhOiB7CiAgICAgIGFmZml4OiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJy9zeXN0ZW0vdXNlci9yb2xlLzp1aWQnLAogICAgY29tcG9uZW50OiBHcmFudFJvbGVzLAogICAgaGlkZGVuOiB0cnVlLAogICAgbmFtZTogJ+WIhumFjeinkuiJsicKICB9XQp9XTsKY29uc3Qgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgcm91dGVzOiBjb25zdGFudFJvdXRlcnMKfSk7CmNvbnN0IHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107CnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIGxldCB1aWQgPSBnZXRVaWQoKTsKICBpZiAodWlkID09IG51bGwpIHsKICAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSA9PSAtMSkgewogICAgICByZXR1cm4gbmV4dCh7CiAgICAgICAgcGF0aDogIi9sb2dpbiIKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSAhPT0gLTEpIHsKICAgICAgcmV0dXJuIG5leHQoewogICAgICAgIHBhdGg6ICIvIgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChzdG9yZS5nZXR0ZXJzLnNpZGViYXJSb3V0ZXJzID09IG51bGwgfHwgc3RvcmUuZ2V0dGVycy5zaWRlYmFyUm91dGVycy5sZW5ndGggPT09IDApIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnR2VuZXJhdGVSb3V0ZXMnLCB1aWQpLnRoZW4oYWNjZXNzUm91dGVycyA9PiB7CiAgICAgICAgICBhY2Nlc3NSb3V0ZXJzLmZvckVhY2gocm91dGUgPT4gewogICAgICAgICAgICByb3V0ZXIuYWRkUm91dGUocm91dGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgbmV4dCgpOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["Vue","VueRouter","Login","Layout","Index","GrantRoles","store","getUid","use","constantRouters","path","name","component","hidden","redirect","children","icon","meta","affix","router","routes","whiteList","beforeEach","to","from","next","uid","indexOf","getters","sidebarRouters","length","dispatch","then","accessRouters","forEach","route","addRoute"],"sources":["D:/vue_workspace/filemanage/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Login from '../views/Login.vue'\nimport Layout from '../layout/index'\nimport Index from \"../views/index\"\nimport GrantRoles from \"../views/system/user/grantrole.vue\"\n\nimport store from '@/store'\nimport { getUid } from '../utils/auth'\n\nVue.use(VueRouter)\n\nexport const constantRouters = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    hidden: true\n  },\n  {\n    path: '',\n    component: Layout,\n    redirect: '/dashboard',\n    children: [\n      {\n        path: '/dashboard',\n        component: Index,\n        name: '首页',\n        icon: 'dashboard',\n        meta: {\n          affix: true\n        }\n      },\n      {\n        path: '/system/user/role/:uid',\n        component: GrantRoles,\n        hidden: true,\n        name: '分配角色'\n      },\n    ]\n  }\n]\n\nconst router = new VueRouter({\n  routes: constantRouters\n})\n\nconst whiteList = ['/login']\n\nrouter.beforeEach((to, from, next) => {\n  let uid = getUid()\n  if(uid == null) {\n    if(whiteList.indexOf(to.path) == -1) {\n      return next({path: \"/login\"})\n    } else {\n      next()\n    }\n  } else {\n    if(whiteList.indexOf(to.path) !== -1) {\n      return next({path: \"/\"})\n    } else {\n      if(store.getters.sidebarRouters == null || store.getters.sidebarRouters.length === 0) {\n        store.dispatch('GenerateRoutes', uid).then(accessRouters => {\n          accessRouters.forEach(route => {\n            router.addRoute(route)\n          })\n        })\n      }\n      next();\n    }\n    \n  }\n})\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,UAAU,MAAM,oCAAoC;AAE3D,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,MAAM,QAAQ,eAAe;AAEtCP,GAAG,CAACQ,GAAG,CAACP,SAAS,CAAC;AAElB,OAAO,MAAMQ,eAAe,GAAG,CAC7B;EACEC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEV,KAAK;EAChBW,MAAM,EAAE;AACV,CAAC,EACD;EACEH,IAAI,EAAE,EAAE;EACRE,SAAS,EAAET,MAAM;EACjBW,QAAQ,EAAE,YAAY;EACtBC,QAAQ,EAAE,CACR;IACEL,IAAI,EAAE,YAAY;IAClBE,SAAS,EAAER,KAAK;IAChBO,IAAI,EAAE,IAAI;IACVK,IAAI,EAAE,WAAW;IACjBC,IAAI,EAAE;MACJC,KAAK,EAAE;IACT;EACF,CAAC,EACD;IACER,IAAI,EAAE,wBAAwB;IAC9BE,SAAS,EAAEP,UAAU;IACrBQ,MAAM,EAAE,IAAI;IACZF,IAAI,EAAE;EACR,CAAC;AAEL,CAAC,CACF;AAED,MAAMQ,MAAM,GAAG,IAAIlB,SAAS,CAAC;EAC3BmB,MAAM,EAAEX;AACV,CAAC,CAAC;AAEF,MAAMY,SAAS,GAAG,CAAC,QAAQ,CAAC;AAE5BF,MAAM,CAACG,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IAAIC,GAAG,GAAGnB,MAAM,EAAE;EAClB,IAAGmB,GAAG,IAAI,IAAI,EAAE;IACd,IAAGL,SAAS,CAACM,OAAO,CAACJ,EAAE,CAACb,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;MACnC,OAAOe,IAAI,CAAC;QAACf,IAAI,EAAE;MAAQ,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLe,IAAI,EAAE;IACR;EACF,CAAC,MAAM;IACL,IAAGJ,SAAS,CAACM,OAAO,CAACJ,EAAE,CAACb,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACpC,OAAOe,IAAI,CAAC;QAACf,IAAI,EAAE;MAAG,CAAC,CAAC;IAC1B,CAAC,MAAM;MACL,IAAGJ,KAAK,CAACsB,OAAO,CAACC,cAAc,IAAI,IAAI,IAAIvB,KAAK,CAACsB,OAAO,CAACC,cAAc,CAACC,MAAM,KAAK,CAAC,EAAE;QACpFxB,KAAK,CAACyB,QAAQ,CAAC,gBAAgB,EAAEL,GAAG,CAAC,CAACM,IAAI,CAACC,aAAa,IAAI;UAC1DA,aAAa,CAACC,OAAO,CAACC,KAAK,IAAI;YAC7BhB,MAAM,CAACiB,QAAQ,CAACD,KAAK,CAAC;UACxB,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;MACAV,IAAI,EAAE;IACR;EAEF;AACF,CAAC,CAAC;AACF,eAAeN,MAAM"}]}