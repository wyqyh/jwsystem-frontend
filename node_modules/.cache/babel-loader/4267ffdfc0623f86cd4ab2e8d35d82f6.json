{"remainingRequest":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\filemanage\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\vue_workspace\\filemanage\\src\\store\\modules\\user.js","mtime":1666578988537},{"path":"D:\\vue_workspace\\filemanage\\babel.config.js","mtime":1666484881107},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbG9naW4gfSBmcm9tICcuLi8uLi9hcGkvbG9naW4nOwppbXBvcnQgeyBzZXRVaWQsIHNldFVOYW1lLCBnZXRVaWQsIGdldFVOYW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXV0aCc7CmNvbnN0IHVzZXIgPSB7CiAgc3RhdGU6IHsKICAgIHVpZDogZ2V0VWlkKCksCiAgICB1bmFtZTogZ2V0VU5hbWUoKQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfVUlEOiAoc3RhdGUsIHVpZCkgPT4gewogICAgICBzdGF0ZS51aWQgPSB1aWQ7CiAgICB9LAogICAgU0VUX1VOQU1FOiAoc3RhdGUsIHVuYW1lKSA9PiB7CiAgICAgIHN0YXRlLnVuYW1lID0gdW5hbWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBMb2dpbih7CiAgICAgIGNvbW1pdAogICAgfSwgdXNlckluZm8pIHsKICAgICAgY29uc3QgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZTsKICAgICAgY29uc3QgcGFzc3dvcmQgPSB1c2VySW5mby5wYXNzd29yZDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgbGV0IHVpZCA9IHJlcy5pZDsKICAgICAgICAgICAgbGV0IHVuYW1lID0gcmVzLm5hbWU7CiAgICAgICAgICAgIHNldFVpZCh1aWQpOwogICAgICAgICAgICBzZXRVTmFtZSh1bmFtZSk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1VJRCcsIHVpZCk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1VOQU1FJywgdW5hbWUpOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB1c2VyOw=="},{"version":3,"names":["login","setUid","setUName","getUid","getUName","user","state","uid","uname","mutations","SET_UID","SET_UNAME","actions","Login","commit","userInfo","username","password","Promise","resolve","reject","then","res","id","name"],"sources":["D:/vue_workspace/filemanage/src/store/modules/user.js"],"sourcesContent":["import { login } from '../../api/login'\r\n\r\nimport { setUid, setUName, getUid, getUName } from '../../utils/auth'\r\n\r\nconst user  = {\r\n  state: {\r\n    uid: getUid(),\r\n    uname: getUName()\r\n  },\r\n  mutations: {\r\n    SET_UID: (state, uid) => {\r\n      state.uid = uid\r\n    },\r\n    SET_UNAME: (state, uname) => {\r\n      state.uname = uname\r\n    }\r\n  },\r\n  actions: {\r\n    Login({commit}, userInfo) {\r\n      const username = userInfo.username\r\n      const password = userInfo.password\r\n      return new Promise((resolve, reject) => {\r\n        login(username, password).then(res => {\r\n          if(res) {\r\n            let uid = res.id\r\n            let uname = res.name\r\n            setUid(uid)\r\n            setUName(uname)\r\n            commit('SET_UID', uid)\r\n            commit('SET_UNAME', uname)\r\n            resolve()\r\n          } else {\r\n            reject()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default user"],"mappings":"AAAA,SAASA,KAAK,QAAQ,iBAAiB;AAEvC,SAASC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,kBAAkB;AAErE,MAAMC,IAAI,GAAI;EACZC,KAAK,EAAE;IACLC,GAAG,EAAEJ,MAAM,EAAE;IACbK,KAAK,EAAEJ,QAAQ;EACjB,CAAC;EACDK,SAAS,EAAE;IACTC,OAAO,EAAE,CAACJ,KAAK,EAAEC,GAAG,KAAK;MACvBD,KAAK,CAACC,GAAG,GAAGA,GAAG;IACjB,CAAC;IACDI,SAAS,EAAE,CAACL,KAAK,EAAEE,KAAK,KAAK;MAC3BF,KAAK,CAACE,KAAK,GAAGA,KAAK;IACrB;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,KAAK,CAAC;MAACC;IAAM,CAAC,EAAEC,QAAQ,EAAE;MACxB,MAAMC,QAAQ,GAAGD,QAAQ,CAACC,QAAQ;MAClC,MAAMC,QAAQ,GAAGF,QAAQ,CAACE,QAAQ;MAClC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACtCpB,KAAK,CAACgB,QAAQ,EAAEC,QAAQ,CAAC,CAACI,IAAI,CAACC,GAAG,IAAI;UACpC,IAAGA,GAAG,EAAE;YACN,IAAIf,GAAG,GAAGe,GAAG,CAACC,EAAE;YAChB,IAAIf,KAAK,GAAGc,GAAG,CAACE,IAAI;YACpBvB,MAAM,CAACM,GAAG,CAAC;YACXL,QAAQ,CAACM,KAAK,CAAC;YACfM,MAAM,CAAC,SAAS,EAAEP,GAAG,CAAC;YACtBO,MAAM,CAAC,WAAW,EAAEN,KAAK,CAAC;YAC1BW,OAAO,EAAE;UACX,CAAC,MAAM;YACLC,MAAM,EAAE;UACV;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF;AACF,CAAC;AAED,eAAef,IAAI"}]}