{"remainingRequest":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\filemanage\\src\\router\\index.js","dependencies":[{"path":"D:\\vue_workspace\\filemanage\\src\\router\\index.js","mtime":1666582115934},{"path":"D:\\vue_workspace\\filemanage\\babel.config.js","mtime":1666484881107},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IExheW91dCBmcm9tICcuLi9sYXlvdXQvaW5kZXgnOwppbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlscy9hdXRoJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwpjb25zdCByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogTGF5b3V0Cn1dOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXMKfSk7CmNvbnN0IHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107CnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIGxldCB1aWQgPSBnZXRVaWQoKTsKICBjb25zb2xlLmxvZygndWlkOicsIHVpZCk7CiAgaWYgKHVpZCA9PSBudWxsKSB7CiAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgPT0gLTEpIHsKICAgICAgcmV0dXJuIG5leHQoewogICAgICAgIHBhdGg6ICIvbG9naW4iCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgICAgIHJldHVybiBuZXh0KHsKICAgICAgICBwYXRoOiAiLyIKICAgICAgfSk7CiAgICB9CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["Vue","VueRouter","Login","Layout","getUid","use","routes","path","name","component","router","whiteList","beforeEach","to","from","next","uid","console","log","indexOf"],"sources":["D:/vue_workspace/filemanage/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Login from '../views/Login.vue'\nimport Layout from '../layout/index'\n\nimport { getUid } from '../utils/auth'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/',\n    component: Layout\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nconst whiteList = ['/login']\n\nrouter.beforeEach((to, from, next) => {\n  let uid = getUid()\n  console.log('uid:', uid)\n  if(uid == null) {\n    if(whiteList.indexOf(to.path) == -1) {\n      return next({path: \"/login\"})\n    } else {\n      next()\n    }\n  } else {\n    if(whiteList.indexOf(to.path) !== -1) {\n      return next({path: \"/\"})\n    }\n    next();\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,MAAM,MAAM,iBAAiB;AAEpC,SAASC,MAAM,QAAQ,eAAe;AAEtCJ,GAAG,CAACK,GAAG,CAACJ,SAAS,CAAC;AAElB,MAAMK,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,GAAG;EACTE,SAAS,EAAEN;AACb,CAAC,CACF;AAED,MAAMO,MAAM,GAAG,IAAIT,SAAS,CAAC;EAC3BK;AACF,CAAC,CAAC;AAEF,MAAMK,SAAS,GAAG,CAAC,QAAQ,CAAC;AAE5BD,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IAAIC,GAAG,GAAGZ,MAAM,EAAE;EAClBa,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,GAAG,CAAC;EACxB,IAAGA,GAAG,IAAI,IAAI,EAAE;IACd,IAAGL,SAAS,CAACQ,OAAO,CAACN,EAAE,CAACN,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;MACnC,OAAOQ,IAAI,CAAC;QAACR,IAAI,EAAE;MAAQ,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLQ,IAAI,EAAE;IACR;EACF,CAAC,MAAM;IACL,IAAGJ,SAAS,CAACQ,OAAO,CAACN,EAAE,CAACN,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACpC,OAAOQ,IAAI,CAAC;QAACR,IAAI,EAAE;MAAG,CAAC,CAAC;IAC1B;IACAQ,IAAI,EAAE;EACR;AACF,CAAC,CAAC;AAEF,eAAeL,MAAM"}]}