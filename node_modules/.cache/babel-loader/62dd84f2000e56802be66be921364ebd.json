{"remainingRequest":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\filemanage\\src\\router\\index.js","dependencies":[{"path":"D:\\vue_workspace\\filemanage\\src\\router\\index.js","mtime":1679230089899},{"path":"D:\\vue_workspace\\filemanage\\babel.config.js","mtime":1666484881107},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\filemanage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IExheW91dCBmcm9tICcuLi9sYXlvdXQvaW5kZXgnOwppbXBvcnQgSW5kZXggZnJvbSAiLi4vdmlld3MvaW5kZXgiOwppbXBvcnQgR3JhbnRSb2xlcyBmcm9tICIuLi92aWV3cy9zeXN0ZW0vdXNlci9ncmFudHJvbGUudnVlIjsKaW1wb3J0IFVzZXJDZW50ZXIgZnJvbSAiLi4vdmlld3Mvc3lzdGVtL3VzZXIvY2VudGVyIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlscy9hdXRoJzsKaW1wb3J0IE5Qcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOyAvLyBwcm9ncmVzcyBiYXIKaW1wb3J0ICducHJvZ3Jlc3MvbnByb2dyZXNzLmNzcyc7IC8vIHByb2dyZXNzIGJhciBzdHlsZQoKVnVlLnVzZShWdWVSb3V0ZXIpOwpOUHJvZ3Jlc3MuY29uZmlndXJlKHsKICBzaG93U3Bpbm5lcjogZmFsc2UKfSk7IC8vIE5Qcm9ncmVzcyBDb25maWd1cmF0aW9uCgpleHBvcnQgY29uc3QgY29uc3RhbnRSb3V0ZXJzID0gW3sKICBwYXRoOiAnL2xvZ2luJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogTG9naW4sCiAgaGlkZGVuOiB0cnVlCn0sIHsKICBwYXRoOiAnL3VzZXInLAogIGNvbXBvbmVudDogTGF5b3V0LAogIGhpZGRlbjogdHJ1ZSwKICByZWRpcmVjdDogJ25vcmVkaXJlY3QnLAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJ2NlbnRlcicsCiAgICBjb21wb25lbnQ6IFVzZXJDZW50ZXIsCiAgICBuYW1lOiAn5Liq5Lq65Lit5b+DJwogIH0sIHsKICAgIHBhdGg6ICdncmFudHJvbGUvOnVpZCcsCiAgICBjb21wb25lbnQ6IEdyYW50Um9sZXMsCiAgICBuYW1lOiAn5YiG6YWN6KeS6ImyJwogIH1dCn0sIHsKICBwYXRoOiAnJywKICBjb21wb25lbnQ6IExheW91dCwKICByZWRpcmVjdDogJy9kYXNoYm9hcmQnLAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJy9kYXNoYm9hcmQnLAogICAgY29tcG9uZW50OiBJbmRleCwKICAgIG5hbWU6ICfpppbpobUnLAogICAgaWNvbjogJ2Rhc2hib2FyZCcsCiAgICBtZXRhOiB7CiAgICAgIGFmZml4OiB0cnVlCiAgICB9CiAgfV0KfV07CmNvbnN0IHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogY29uc3RhbnRSb3V0ZXJzCn0pOwpjb25zdCB3aGl0ZUxpc3QgPSBbJy9sb2dpbiddOwpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICBsZXQgdWlkID0gZ2V0VWlkKCk7CiAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgaWYgKHVpZCA9PSBudWxsKSB7CiAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgPT0gLTEpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogIi9sb2dpbiIKICAgICAgfSk7CiAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSAhPT0gLTEpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogIi8iCiAgICAgIH0pOwogICAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHN0b3JlLmdldHRlcnMuc2lkZWJhclJvdXRlcnMgPT0gbnVsbCB8fCBzdG9yZS5nZXR0ZXJzLnNpZGViYXJSb3V0ZXJzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdHZW5lcmF0ZVJvdXRlcycsIHVpZCkudGhlbihhY2Nlc3NSb3V0ZXJzID0+IHsKICAgICAgICAgIGFjY2Vzc1JvdXRlcnMuZm9yRWFjaChyb3V0ZSA9PiB7CiAgICAgICAgICAgIHJvdXRlci5hZGRSb3V0ZShyb3V0ZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBuZXh0KCk7CiAgICB9CiAgfQp9KTsKcm91dGVyLmFmdGVyRWFjaCgoKSA9PiB7CiAgTlByb2dyZXNzLmRvbmUoKTsgLy8gZmluaXNoIHByb2dyZXNzIGJhcgp9KTsKCmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["Vue","VueRouter","Login","Layout","Index","GrantRoles","UserCenter","store","getUid","NProgress","use","configure","showSpinner","constantRouters","path","name","component","hidden","redirect","children","icon","meta","affix","router","routes","whiteList","beforeEach","to","from","next","uid","start","indexOf","done","getters","sidebarRouters","length","dispatch","then","accessRouters","forEach","route","addRoute","afterEach"],"sources":["D:/vue_workspace/filemanage/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Login from '../views/Login.vue'\nimport Layout from '../layout/index'\nimport Index from \"../views/index\"\nimport GrantRoles from \"../views/system/user/grantrole.vue\"\nimport UserCenter from \"../views/system/user/center\"\n\nimport store from '@/store'\nimport { getUid } from '../utils/auth'\n\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css'// progress bar style\n\nVue.use(VueRouter)\nNProgress.configure({showSpinner: false})// NProgress Configuration\n\nexport const constantRouters = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    hidden: true\n  },\n  {\n    path: '/user',\n    component: Layout,\n    hidden: true,\n    redirect: 'noredirect',\n    children: [\n      {\n        path: 'center',\n        component: UserCenter,\n        name: '个人中心'\n      },\n      {\n        path: 'grantrole/:uid',\n        component: GrantRoles,\n        name: '分配角色'\n      }\n    ]\n  },\n  {\n    path: '',\n    component: Layout,\n    redirect: '/dashboard',\n    children: [\n      {\n        path: '/dashboard',\n        component: Index,\n        name: '首页',\n        icon: 'dashboard',\n        meta: {\n          affix: true\n        }\n      }\n    ]\n  }\n]\n\nconst router = new VueRouter({\n  routes: constantRouters\n})\n\nconst whiteList = ['/login']\n\nrouter.beforeEach((to, from, next) => {\n  let uid = getUid()\n  NProgress.start()\n  if(uid == null) {\n    if(whiteList.indexOf(to.path) == -1) {\n      next({path: \"/login\"})\n      NProgress.done()\n    } else {\n      next()\n    }\n  } else {\n    if(whiteList.indexOf(to.path) !== -1) {\n      next({path: \"/\"})\n      NProgress.done()\n    } else {\n      if(store.getters.sidebarRouters == null || store.getters.sidebarRouters.length === 0) {\n        store.dispatch('GenerateRoutes', uid).then(accessRouters => {\n          accessRouters.forEach(route => {\n            router.addRoute(route)\n          })\n        })\n      }\n      next();\n    }\n    \n  }\n})\n\nrouter.afterEach(() => {\n  NProgress.done() // finish progress bar\n})\n\nexport default router\n"],"mappings":"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"}]}